{% extends 'layout.html' %}
{% set activePage = "monthlyAnalysis" %}

{% block content %}
<h1 class="text-primary">Expenses - {{ monthStr }}</h1>

<div class="row py-3 px-3 border rounded bg-light" id="expense-config-form">
	<div class="col-lg">
		<form method="POST" action={{ url_for('monthlyAnalysis') }} class="form-inline">
			<div class="form-group">
				{{ monthlyForm.csrf_token }}	
				{{ monthlyForm.year.label(class_='px-2') }}	
				{{ monthlyForm.year(class_="form-control") }}						
			</div>
			
			<div class="form-group px-3">
				{{ monthlyForm.month.label(class_='px-2') }} 
				{{ monthlyForm.month(class_="form-control") }}
			</div>
			
			<div class="form-group">
				{{ monthlyForm.spender.label(class_='px-2') }}
				{{ monthlyForm.spender(class_="form-control") }}	
			</div>
			
			<div class="form-group px-4">
				{{ monthlyForm.submit(class='form-control btn btn-primary') }}
			</div>
					
		</form>
	</div>
</div>

{% if spender != "All" and spender is not none %}
	<div class="alert alert-primary my-2" role="alert">
		Displaying data only for "{{ spender }}" spender
	</div>
{% endif %}

<div class="row border rounded my-3 px-3 py-2">
	<div class="col">
		<div class="row" id="expenses-stats">	
			<div class="col-lg py-3">
				{{ stats }}	
			</div>	
		</div>
		
		<div class="row" id="tables">	
			<div class="col-lg-8 py-3">
				{{ expenseTable }}	
			</div>	
			<div class="col-lg-4 py-3">
				{{ categoryAnalysisTable }}
			</div>
		</div>
	</div>
	
</div>
{% endblock %}
