{% extends 'layout.html' %}
{% set activePage = "yearlyAnalysis" %}

{% block content %}
<h1 class="text-primary">Year Analysis - {{ yearStr }}</h1>


<div class="row py-3 px-3 border rounded bg-light">
	<div class="col-lg">
		
		<form method="POST" action={{ url_for('yearlyAnalysis') }} class="form-inline">
			<div class="form-group">
				{{ yearlyForm.csrf_token }}
				{{ yearlyForm.year.label(class_='px-2') }} {{ yearlyForm.year(class_="form-control") }}
			</div>
			<div class="form-group px-2">
				{{ yearlyForm.spender.label(class_='px-2') }} {{ yearlyForm.spender(class_="form-control") }}
			</div>
			<div class="form-group px-4">
				{{ yearlyForm.submit(class='form-control btn btn-primary') }}
			</div>			
			
		</form>					
		
	</div>
</div>


{% if spender != "All" and spender is not none %}
	<div class="alert alert-primary my-2" role="alert">
		Displaying data only for "{{ spender }}" spender
	</div>
{% endif %}

<div class="row my-3 px-3 py-2">
	
	<div class="col">	

		<div class="row justify-content-center">
			<div class="col-lg-6 py-3">
				{{ stats }}	
			</div>			
		</div>

		<div class="row">				
			<div class="col-lg-6 py-3">	
				{{ breakdownByMonthAnalysisTable }}		
			</div>			
			<div class="col-lg-6 py-3">
				{{ categoryAnalysisTable }}					
			</div>
		</div>
	
	</div>
	
</div>

{% endblock %}
